---
import RedirectedLink from "../RedirectedLink.astro";
import { formatDate } from "../../scripts/util";
const { tag, year, posts } = Astro.props;
---

<ol>
  {
    posts.map((post) => {
      const { dd, mmm, yyyy } = formatDate(post.data.published);
      return (
        <li>
          <RedirectedLink
            href={`/${post.id}`}
            title={post.data.redirect}
            destination={post.data.redirect}
          >
            {post.data.title || <span style="text-transform: capitalize;">{post.id}</span>}
          </RedirectedLink>

          <div class="date">
            <a href={`/${tag}/${year}`} class="text">{yyyy}</a>
            <br />
            {mmm}&#8239;<sup>{dd}</sup>
          </div>
        </li>
      );
    })
  }
</ol>
