---
import RedirectedLink from "../RedirectedLink.astro";
import { formatDate } from "../../scripts/util";
const { tag, year, posts } = Astro.props;
---

<ol>
  {
    posts.map((post) => {
      const { dd, mmm, yyyy } = formatDate(post.data.published);
      return (
        <li>
          <span>
            <RedirectedLink
              href={`/${post.id}`}
              title={post.data.redirect}
              destination={post.data.redirect}
            >
              {post.data.title || (
                <span style="text-transform: capitalize;">{post.id}</span>
              )}
            </RedirectedLink>
          </span>

          <div class="date">
            <a href={`/${tag}/${year}`} class="text">
              {yyyy}
            </a>
            <br />
            {mmm}<sup>{dd}</sup>
          </div>
        </li>
      );
    })
  }
</ol>
